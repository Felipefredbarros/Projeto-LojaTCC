<ui:composition template="../index.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="body">
        <h:form id="formConta" styleClass="form-container">
            <p:growl id="growlMessages" globalOnly="true" showDetail="true"/>

            <h1 style="font-size: 2rem; color:#003366; margin-bottom:20px;">
                üè¶ Cadastro de Conta
            </h1>

            <p:panel header="Informa√ß√µes Gerais" styleClass="form-card">

                <p:panelGrid columns="2" layout="grid" styleClass="ui-fluid"
                             columnClasses="ui-grid-col-2, ui-grid-col-10">

                    <p:outputLabel for="nome" value="Nome da Conta:" styleClass="font-semibold"/>
                    <p:inputText id="nome" value="#{contaControle.conta.nome}" required="true"
                                 maxlength="150" style="width: 100%;"/>

                    <p:outputLabel for="valorInicial" value="Valor Inicial:" styleClass="font-semibold"/>
                    <p:inputNumber id="valorInicial" value="#{contaControle.conta.valorInicial}"
                                   symbol="R$ " decimalSeparator="," thousandSeparator="."
                                   required="true" minValue="0" style="width: 100%;"/>

                    <p:outputLabel for="isCofre" value="√â Cofre?" styleClass="font-semibold"/>
                    <p:selectBooleanCheckbox id="isCofre" value="#{contaControle.conta.isCofre}">
                        <p:ajax update="panelCamposEspecificos"/>
                    </p:selectBooleanCheckbox>
                </p:panelGrid>

                <!-- Dados banc√°rios -->
                <p:outputPanel id="panelCamposEspecificos" style="margin-top:20px;">
                    <h:panelGroup rendered="#{not contaControle.conta.isCofre}">
                        <p:panel header="Dados Banc√°rios" style="border-radius:8px; box-shadow:0 2px 5px rgba(0,0,0,0.1);">
                            <p:panelGrid columns="2" layout="grid" styleClass="ui-fluid"
                                         columnClasses="ui-grid-col-2, ui-grid-col-10">

                                <p:outputLabel for="banco" value="Banco:" styleClass="font-semibold"/>
                                <p:inputText id="banco" value="#{contaControle.conta.banco}" maxlength="100" style="width: 100%;"/>

                                <p:outputLabel for="agencia" value="Ag√™ncia:" styleClass="font-semibold"/>
                                <p:inputText id="agencia" value="#{contaControle.conta.agencia}" maxlength="20" style="width: 100%;"/>

                                <p:outputLabel for="numeroConta" value="Conta:" styleClass="font-semibold"/>
                                <p:inputText id="numeroConta" value="#{contaControle.conta.conta}" maxlength="20" style="width: 100%;"/>
                            </p:panelGrid>
                        </p:panel>
                    </h:panelGroup>
                </p:outputPanel>

                <p:separator style="margin-top:20px;"/>

                <!-- Bot√µes -->
                <div style="text-align:right; margin-top:15px;">
                    <p:commandButton value="Salvar" actionListener="#{contaControle.salvar}" 
                                     action="contas.xhtml" update="@form"
                                     icon="pi pi-save" styleClass="ui-button-success p-mr-2"/>
                    <p:commandButton value="Limpar" action="#{contaControle.novo}" 
                                     process="@this" update="@form" 
                                     icon="pi pi-trash" styleClass="ui-button-secondary"/>
                </div>
            </p:panel>
        </h:form>

        <style>
            .form-container {
                width: 100%;
                max-width: 950px;
                margin: 0 auto;
                padding: 15px;
            }
            .form-card {
                padding: 25px;
                border-radius: 10px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.08);
                background-color: #ffffff;
            }
            .font-semibold {
                font-weight: 600;
                color: #2c3e50;
            }
            .ui-inputfield, .ui-inputnumber .ui-inputfield {
                border-radius: 6px;
                padding: 10px;
            }
            .section-title {
                margin-top: 20px;
                font-size: 18px;
                font-weight: bold;
                color: #007bff;
                border-bottom: 2px solid #007bff;
                padding-bottom: 5px;
            }
        </style>
    </ui:define>
</ui:composition>
